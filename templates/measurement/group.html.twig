{% extends 'base.html.twig' %}

{% block title %}Measurements by Group{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/metrics-graphics/2.15.6/metricsgraphics.min.css" integrity="sha256-H83YjkVzXEyHSdZ/5aVRoW2QfqeJ7gIWduA7aCy9tWY=" crossorigin="anonymous" />
    <link rel="stylesheet" href="{{ asset('css/measurement-graphs.css') }}" />
{% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.js" integrity="sha256-kX9/pjvgpDgSmoSfzAlYJeICaZXca16iu+c3F6ueKRo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/metrics-graphics/2.15.6/metricsgraphics.min.js" integrity="sha256-QFwUntQpro6H+h/btQ+8nVVDqeZnVQSuqsTTUGz2o44=" crossorigin="anonymous"></script>
    <script src="{{ asset('js/measurement-graphs.js') }}"></script>
{% endblock %}

{% block body %}
    {% for source in sources %}
        <div class="row">
            <div class="measurement-graph" data-name="{{ source.getName() }}" data-measurements="{{ source.getMeasurements()|jsonify }}"></div>
        </div>
    {% endfor %}
    <div class="row">
        <div id="recording" data-group="{{ group }}">
            <img id="recording-image" />
            <span id="recording-date"></span>
        </div>
    </div>
{% endblock %}
